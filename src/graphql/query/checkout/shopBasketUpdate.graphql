#import '../../fragments/shopTotals.graphql'

query {
	my {
		userAccount {
			id
			balance
			promoBalance
		}
	}
	shop {
		nonTrivialItemCount
		basket {
			hasFreeCredits
			credits {
				totalCount
				values {
					amount
					applied
					available
					creditType
					id
				}
			}
			items {
				totalCount
				values {
					id
					price
					... on LoanReservation {
						expiryTime
						isEndingSoon
						loan {
							id
							status
							loanFundraisingInfo {
								isExpiringSoon
								fundedAmount
								reservedAmount
							}
						}
						team {
							id
							name
						}
					}
					... on Donation {
						isTip
						isUserEdited
					}
					... on KivaCard {
						id
						price
						idsInGroup
						quantity
						individualPrice
					}
				}
			}
			totals {
				...shopTotals
			}
		}
	}
}
